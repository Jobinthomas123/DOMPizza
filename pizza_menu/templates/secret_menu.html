{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ title|default:"Secret Menu" }} • DOMPizza</title>

  <link rel="stylesheet" href="{% static 'css/style.css' %}" />
  <script defer src="{% static 'js/main.js' %}"></script>

  <style>
    .secret-banner { background: rgba(227, 24, 55, 0.1); border: 1px dashed #e31837; padding: 1rem; border-radius: 12px; margin: 1rem 0 2rem; }
    .secret-chip { font-size: .75rem; padding: .15rem .5rem; border-radius: 999px; border: 1px solid currentColor; opacity: .8; }
  </style>
</head>
<body class="dark">
<header class="site-header">
  <div class="container">
    <div class="logo"><a href="/">DOMPizza</a></div>
    <nav class="nav">
      <ul>
        <li><a href="/">Menu</a></li>
        <li><a class="active" href="{% url 'secret_menu' %}">Secret</a></li>
      </ul>
    </nav>
    <div class="cart-icon" id="cart-button">
      <span class="cart-count" id="cart-count">0</span>
    </div>
  </div>
</header>

<main class="container">
  <h1>Secret Menu <span class="secret-chip">shhh…</span></h1>

  <div class="secret-banner">
    <strong>Welcome to the Secret Menu!</strong> These items are exclusive. Add to cart like normal.
  </div>

  {% if items %}
    <section class="grid menu-grid">
      {% for item in items %}
        <article class="card menu-card" data-item-id="{{ item.id }}">
          {% if item.image %}
            <img class="card-img" src="{{ item.image }}" alt="{{ item.name }}" loading="lazy" />
          {% endif %}
          <div class="card-body">
            <div class="card-title-row">
              <h3 class="card-title">{{ item.name }}</h3>
              <div class="price">${{ item.price }}</div>
            </div>
            {% if item.calories %}<div class="calories">{{ item.calories }} cal</div>{% endif %}
            {% if item.description %}<p class="card-text">{{ item.description }}</p>{% endif %}
            <button class="btn add-to-cart"
                    data-id="{{ item.id }}"
                    data-name="{{ item.name }}"
                    data-price="{{ item.price }}"
                    data-image="{{ item.image }}">Add to Cart</button>
          </div>
        </article>
      {% endfor %}
    </section>
  {% else %}
    <p>No secret items yet. Check back later.</p>
  {% endif %}
</main>

{% include 'partials/cart_modal.html' ignore missing %}
</body>
</html>
